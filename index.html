<!DOCTYPE html>
<html>
<head>
    <title>Camera Capture</title>
    <style>
        body { display: flex; flex-direction: column; align-items: center; }
        #cameraPreview { width: 640px; height: 480px; border: 2px solid black; }
        button { margin: 10px; padding: 10px 20px; }
    </style>
</head>
<body>
    <video id="cameraPreview"></video>
    <button onclick="capturePhoto()">Take Photo</button>
    <canvas id="photoCanvas" hidden></canvas>

    <script>
        const video = document.getElementById('cameraPreview');
        const canvas = document.getElementById('photoCanvas');
        
        // Request camera access
        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { width: 640, height: 480 }
                });
                video.srcObject = stream;
            } catch (error) {
                alert('Error accessing camera: ' + error.message);
            }
        }

        // Capture photo from video stream
        function capturePhoto() {
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            const context = canvas.getContext('2d');
            
            // Draw current video frame to canvas
            context.drawImage(video, 0, 0);
            
            // Convert to downloadable image
            const dataUrl = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = 'photo.png';
            link.href = dataUrl;
            link.click();
        }

        // Start camera when page loads
        startCamera();
    </script>
</body>
</html>
